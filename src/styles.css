:root{
  --rose-50:#fff1f2;
  --rose-100:#ffe4e6;
  --rose-200:#fecdd3;
  --rose-300:#fda4af;
  --rose-400:#fb7185;
  --rose-500:#f43f5e;
  --slate-900:#0f172a;
  --slate-700:#334155;
  --slate-600:#475569;
  --white:#ffffff;
}

*{box-sizing:border-box}
html,body,#root{height:100%}
body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,Apple Color Emoji,Segoe UI Emoji;background:var(--rose-50);color:var(--slate-700)}

.container{max-width:1100px;margin:0 auto;padding:24px}
.h1{font-size:28px;font-weight:800;color:var(--rose-500);margin:0 0 12px}
.row{display:flex;gap:12px;align-items:center;justify-content:space-between}
.card{background:rgba(255,255,255,0.9);border:1px solid var(--rose-200);border-radius:16px;box-shadow:0 1px 4px rgba(0,0,0,0.06);padding:12px}

.btn{border:none;border-radius:12px;padding:8px 12px;background:var(--rose-500);color:white;cursor:pointer}
.btn:hover{background:var(--rose-400)}
.btn.outline{background:white;color:var(--rose-500);border:1px solid var(--rose-300)}
.btn.outline:hover{background:var(--rose-100)}

.grid{display:grid;gap:2px}
.board{position:relative;aspect-ratio:1/1;width:min(90vw,700px);background:var(--rose-200);border-radius:16px;overflow:hidden;border:1px solid var(--rose-300)}
.board::before{content:"";position:absolute;inset:0;background:linear-gradient(to bottom,rgba(148,163,184,0.08) 50%,rgba(244,63,94,0.06) 50%);pointer-events:none}
.board.placement.turn-w::before{background:linear-gradient(to bottom,rgba(148,163,184,0.08) 50%,rgba(244,63,94,0.16) 50%)}
.board.placement.turn-b::before{background:linear-gradient(to bottom,rgba(244,63,94,0.16) 50%,rgba(148,163,184,0.08) 50%)}
.square{display:flex;align-items:center;justify-content:center;position:relative;font-size:22px;user-select:none;transition:transform 0.15s ease}
.square.light{background:var(--rose-100)}
.square.dark{background:var(--rose-300)}
.square.half-white{background:rgba(255,255,255,0.94)}
.square.half-black{background:rgba(148,163,184,0.25)}
.square.active-half{box-shadow:inset 0 0 0 2px rgba(244,63,94,0.18)}
.square.inactive-half{opacity:0.9}
.square.selected{outline:2px solid var(--rose-500);outline-offset:-2px}
.square .label{position:absolute;left:6px;bottom:4px;font-size:10px;color:rgba(0,0,0,0.45)}
.square.reach::after{content:"";position:absolute;width:14px;height:14px;border-radius:50%;background:rgba(244,63,94,0.8);box-shadow:0 0 0 4px rgba(244,63,94,0.25)}
.square[data-cost]:hover::before{content:attr(data-cost);position:absolute;top:6px;right:6px;background:rgba(15,23,42,0.85);color:white;font-size:10px;padding:2px 4px;border-radius:4px;pointer-events:none}
.square[data-cost]:hover{transform:translateY(-1px)}

.stone-wrapper{position:relative;display:flex;align-items:center;justify-content:center;color:var(--slate-700)}
.stone-wrapper.drop{animation:stone-drop 0.35s ease-out}

@keyframes stone-drop{
  0%{transform:translateY(-14px) scale(0.85);opacity:0}
  70%{transform:translateY(2px) scale(1.03);opacity:1}
  100%{transform:translateY(0) scale(1)}
}

.hud{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.badge{padding:6px 10px;border-radius:999px;background:var(--rose-200);color:var(--slate-900);font-weight:600}
.badge.phase{background:#fce7f3}
.badge.turn-w{background:rgba(244,63,94,0.18);color:#be123c}
.badge.turn-b{background:rgba(15,23,42,0.15);color:#0f172a}
.badge.turn.neutral{background:#e2e8f0;color:#1e293b}
.stat{padding:6px 8px;border-radius:12px;border:1px solid var(--rose-200);background:white;min-width:120px;text-align:center}
.stat.timer.active{border-color:rgba(244,63,94,0.35)}
.stat.timer.critical{animation:blink 0.9s step-start infinite;background:rgba(254,226,226,0.9);color:#b91c1c}

@keyframes blink{
  0%,50%{opacity:1}
  50.01%,100%{opacity:0.4}
}

.row.gap{gap:8px}
.panel{margin-top:12px;display:flex;gap:12px;flex-wrap:wrap}
.input{padding:6px 10px;border-radius:10px;border:1px solid var(--rose-300);}
.number{width:80px}
.small{font-size:12px;color:#475569}
.table{width:100%;border-collapse:collapse}
.table th,.table td{border-bottom:1px solid #f1f5f9;padding:6px 8px;text-align:left}
hr{border:none;border-top:1px solid #f1f5f9;margin:12px 0}

.locked-value{margin:8px 0;font-weight:600}
.reveal{margin-top:12px;display:flex;flex-direction:column;gap:8px}
.reveal-row{display:flex;gap:12px;flex-wrap:wrap;font-size:14px}

.dir-cell{display:flex;gap:6px;flex-wrap:wrap}
.dir-check{font-size:12px;color:#475569}
.dir-check input{margin-right:2px}
.small-btn{font-size:12px;padding:4px 8px}
.warning{margin-top:8px;padding:8px 10px;border-radius:8px;background:rgba(254,202,202,0.6);color:#b91c1c;font-size:13px}

.movement-card{margin-top:12px}

.toast-stack{position:fixed;bottom:24px;right:24px;display:flex;flex-direction:column;gap:8px;z-index:20}
.toast{background:rgba(15,23,42,0.88);color:white;padding:10px 14px;border-radius:12px;box-shadow:0 8px 20px rgba(15,23,42,0.18);font-size:14px;max-width:280px}

.scores{margin-top:12px;display:flex;flex-direction:column;gap:12px}
.scores-header{font-weight:700;color:var(--slate-600)}
.scores-grid{display:flex;gap:12px;flex-wrap:wrap}
.scores-col{flex:1;min-width:140px;padding:12px;border-radius:12px;background:white;border:1px solid #e2e8f0;box-shadow:inset 0 0 0 1px rgba(148,163,184,0.12)}
.scores-col.white{background:linear-gradient(135deg,rgba(254,226,226,0.55),white)}
.scores-col.black{background:linear-gradient(135deg,rgba(148,163,184,0.35),white)}
.scores-title{font-weight:600;margin-bottom:8px}
.scores-line,.scores-total{display:flex;justify-content:space-between;font-size:13px}
.scores-total{margin-top:6px;font-weight:700}
